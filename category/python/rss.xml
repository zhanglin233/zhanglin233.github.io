<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººåšå®¢ â€¢ Posts by &#34;python&#34; category</title>
        <link>http://zhanglin233.github.io</link>
        <description></description>
        <language>zh-CN</language>
        <pubDate>Sat, 27 Nov 2021 01:22:09 +0800</pubDate>
        <lastBuildDate>Sat, 27 Nov 2021 01:22:09 +0800</lastBuildDate>
        <category>å‰ç«¯</category>
        <category>åšå®¢</category>
        <category>Nginx</category>
        <category>å‰ç«¯ React</category>
        <category>Python çˆ¬è™«</category>
        <category>Java JavaWEB</category>
        <category>Java JavaSE</category>
        <category>java SpringBoot</category>
        <category>java springboot</category>
        <item>
            <guid isPermalink="true">http://zhanglin233.github.io/2021/11/27/computer-science/python/spider/2020-11-18-pixiv2/</guid>
            <title>çˆ¬å–pç«™(pixiv)çš„å›¾ç‰‡ï¼ˆäºŒï¼‰</title>
            <link>http://zhanglin233.github.io/2021/11/27/computer-science/python/spider/2020-11-18-pixiv2/</link>
            <category>Python çˆ¬è™«</category>
            <pubDate>Sat, 27 Nov 2021 01:22:09 +0800</pubDate>
            <description><![CDATA[ &lt;h3 id=&#34;æˆåŠŸçˆ¬å–pixivä¸Šçš„å›¾ç‰‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æˆåŠŸçˆ¬å–pixivä¸Šçš„å›¾ç‰‡&#34;&gt;#&lt;/a&gt; æˆåŠŸçˆ¬å– pixiv ä¸Šçš„å›¾ç‰‡&lt;/h3&gt;
&lt;p&gt;åœ¨ç»è¿‡äº†ä¸‰å¤©çš„å¥‹æˆ˜ä¹‹åï¼Œæˆ‘ç»ˆäºæˆåŠŸçš„çˆ¬å–åˆ°äº† pixiv ä¸Šçš„å›¾ç‰‡ï¼Œçœ‹ç€æ–‡ä»¶å¤¹é‡Œçš„ä¼—å¤šå¥½çœ‹çš„å›¾ç‰‡çš„æ„Ÿè§‰çœŸä¸é”™ï¼Œä»¥åå†ä¹Ÿä¸ç¼ºå£çº¸å’Œå¤´åƒäº†ï¼ˆhiahiahiaï¼‰ã€‚æ¥ä¸‹æ¥è¨€å½’æ­£ä¼ ï¼Œåˆ†äº«ä¸€ä¸‹æˆ‘æ˜¯å¦‚ä½•çˆ¬å–åˆ°è¿™äº›å›¾ç‰‡çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;çˆ¬å–pixivä¸Šçš„å›¾ç‰‡çš„å…·ä½“æ­¥éª¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#çˆ¬å–pixivä¸Šçš„å›¾ç‰‡çš„å…·ä½“æ­¥éª¤&#34;&gt;#&lt;/a&gt; çˆ¬å– pixiv ä¸Šçš„å›¾ç‰‡çš„å…·ä½“æ­¥éª¤&lt;/h3&gt;
&lt;h4 id=&#34;è·å–ä¸åŒç…§ç‰‡çš„id&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è·å–ä¸åŒç…§ç‰‡çš„id&#34;&gt;#&lt;/a&gt; è·å–ä¸åŒç…§ç‰‡çš„ id&lt;/h4&gt;
&lt;p&gt;æˆ‘åœ¨æˆ‘çš„&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL3poYW5nbGluLnNwYWNlLzIwMjAvMTEvamVreWxsLw==&#34;&gt;çˆ¬å– pixiv çš„ç¬¬ä¸€ç¯‡åšå®¢&lt;/span&gt;ä¸­æè¿°äº†æˆ‘çš„åˆæ¬¡å°è¯•çš„çˆ¬å–æ€è·¯ï¼Œè™½ç„¶æ€è·¯å¹¶æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯æœ€ç»ˆå› ä¸ºç½‘ç«™åæ‰’çš„åŸå› ï¼Œæˆ‘å¹¶æ²¡æœ‰æˆåŠŸçš„å°†å›¾ç‰‡çˆ¬å–ä¸‹æ¥ï¼Œæœ¬æ¥æˆ‘æ˜¯æ‰“ç®—ç­‰æˆ‘å†çœ‹ç‚¹å¦‚ä½•å â€œåçˆ¬â€ çš„æ•™ç¨‹ä¹‹åå†åŠ¨æ‰‹ï¼Œä½†æ˜¯æ˜¨å¤©æ™šä¸Šå›å»çš„æ—¶å€™æˆ‘éšæœºç‚¹äº†å‡ å¼ å›¾ç‰‡è§‚å¯Ÿå®ƒä»¬çš„è¯¦ç»†ä¿¡æ¯æ—¶ï¼Œæ‰å‘ç°ä»–çš„åŸŸåæ˜¯é€šè¿‡æ”¹å˜å›¾ç‰‡çš„ id å€¼æ¥é“¾æ¥ä¸åŒçš„ç…§ç‰‡ï¼Œå¤§ä½“éƒ½æ˜¯ç›¸åŒçš„ (æˆ‘è¿˜æ˜¯å¤ªå¹´è½»äº†ï¼Œç»éªŒä¸å¤Ÿ), å¦‚ https://pixivic.com/illusts/64952228?VNK=f1808200, å…¶ä¸­çš„ &#39;64952228&#39; å°±æ˜¯å›¾ç‰‡çš„ id å€¼ï¼Œå½“æˆ‘ä»¬å°†å®ƒæ¢æˆå…¶ä»–ç…§ç‰‡çš„ id å€¼å°±å¯ä»¥è®¿é—®å…¶ä»–çš„ç…§ç‰‡ï¼Œè€Œæˆ‘æ˜¨å¤©é€šè¿‡è®¿é—®&#39;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9waXguaXB2NC5ob3N0L2lsbHVzdHJhdGlvbnM/aWxsdXN0VHlwZT1pbGx1c3QmYW1wO3NlYXJjaFR5cGU9b3JpZ2luYWwmYW1wO21heFNhbml0eUxldmVsPTQmYW1wO3BhZ2U9NSZhbXA7a2V5d29yZD0lRTYlQTElOUMlRTMlODElQUUlRTglOEElQjEmYW1wO3BhZ2VTaXplPTMw&#34;&gt;https://pix.ipv4.host/illustrations?illustType=illust&amp;amp;searchType=original&amp;amp;maxSanityLevel=4&amp;amp;page=5&amp;amp;keyword = æ¡œã®èŠ± &amp;amp; pageSize=30&lt;/span&gt;&#39; ä¿¡æ¯å¾—åˆ°äº†ä¸€å¤§ä¸²ç½‘å€ï¼Œè™½ç„¶æˆ‘ä»¬ä¸èƒ½é€šè¿‡è¿™äº›ç½‘å€ç›´æ¥è®¿é—®åˆ°ç›¸åº”çš„å›¾ç‰‡ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å‘ç°è¿™äº›ç½‘å€ä¹‹ä¸­ä¹ŸåŒ…å«äº†ç›¸åº”çš„å›¾ç‰‡çš„ id ä¿¡æ¯ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿå°†å…¶ä¸­çš„ id ä¿¡æ¯æå–å‡ºæ¥ï¼Œå¹¶å¥—åˆ°ä¸Šé¢çš„é‚£ä¸ªç½‘å€ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½é€šè¿‡ä»£ç æ‰¹é‡çš„è®¿é—®è¿™äº›å›¾ç‰‡çš„åœ°å€å¹¶è¿›è€Œè¿›è¡Œåé¢çš„æ“ä½œã€‚  (å¦‚å›¾æ‰€ç¤ºï¼Œåªè¦è¾“å…¥ç±»ä¼¼å›¾ä¸­çš„ç½‘å€ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¿é—®åˆ°ä¸åŒçš„å›¾ç‰‡)&lt;br /&gt;
![](/images/20-11-18_pixiv5.png)&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å°†å¾—åˆ°çš„ä¸€å¤§ä¸²ä¸èƒ½ç›´æ¥è®¿é—®çš„ç½‘å€ä¿å­˜åˆ°æœ¬åœ°ï¼Œå¾—åˆ°å¦‚å›¾æ‰€ç¤ºçš„ç»“æœ&lt;br /&gt;
ï¼[](/images/20-11-18_pixiv1.png) è¦æå–ãƒ»å…¶ä¸­çš„ id ä¿¡æ¯æœ€å¥½ç”¨çš„å½“ç„¶æ˜¯ç”¨æ­£åˆ™è¡¨è¾¾å¼äº†ã€‚&lt;br /&gt;
![](/images/20-11-18_pixiv2.png)(å…¶ä¸­ i ä¸ºå½“å‰è®¿é—®çš„æ˜¯ç¬¬å‡ é¡µçš„å†…å®¹ï¼Œåé¢è®²)ï¼Œè¿™æ ·æˆ‘ä»¬å°±çš„åˆ°äº†æ‰€æœ‰å›¾ç‰‡çš„ id ä¿¡æ¯ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬åªéœ€è¦å°† id ä¿¡æ¯å¡«å†™åˆ°åŸºæœ¬ url ä¸­å°±å¯ä»¥ç»„æˆèƒ½å¤Ÿç›´æ¥è®¿é—®åˆ°å›¾ç‰‡çš„é“¾æ¥ã€‚&lt;br /&gt;
![](/images/20-11-18_pixiv3.png)(å…¶ä¸­ idtag ä¸º id + é¡µæ•°ï¼Œæ‰€ä»¥æå–çš„æ—¶å€™åªéœ€è¦å–å‰ 8 ä½å°±è¡Œ (id è§‚å¯Ÿåèƒ½å‘ç°éƒ½æ˜¯ 8 ä½))ï¼Œè¿™ä¸ªæ—¶å€™å°±å®Œæˆäº†æˆ‘ä»¬çš„ç¬¬ä¸€æ­¥ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å°è¯•è®¿é—®å›¾ç‰‡é“¾æ¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°è¯•è®¿é—®å›¾ç‰‡é“¾æ¥&#34;&gt;#&lt;/a&gt; å°è¯•è®¿é—®å›¾ç‰‡é“¾æ¥&lt;/h4&gt;
&lt;p&gt;æ­£å¸¸æ¥è¯´æˆ‘ä»¬è·å¾—äº†å¯ä»¥é€šè¿‡ç‚¹å‡»ä¾¿è®¿é—®åˆ°çš„é“¾æ¥ï¼Œæ¥ä¸‹æ¥å°±æ˜¯é€šè¿‡ä»£ç è®¿é—®è¿™äº›é“¾æ¥ã€è·å–ä»–ä»¬çš„ html ä¿¡æ¯ã€å¹¶æå–åˆ°å…¶ä¸­èƒ½å¤Ÿç›´æ¥ä¸‹è½½çš„å›¾ç‰‡çš„é“¾æ¥ï¼Œ&lt;/p&gt;
&lt;p&gt;![](/images/20-11-18_pixiv6.png)&lt;/p&gt;
&lt;p&gt;ä½ æ˜¯ä¸æ˜¯ä¹Ÿæ˜¯è¿™ä¹ˆæƒ³çš„å‘¢ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œæ­å–œä½ ä¹Ÿé”™äº† (hhh), æˆ‘ä»¬è¿è¡Œä¸€ä¸‹è¿™éƒ¨åˆ†ä»£ç ï¼Œä¾¿ä¼šå‘ç°å®ƒæŠ¥é”™äº†ï¼Œç„¶åæˆ‘ç”¨ selenium æ¨¡ä»¿æœç´¢äº†ä¸€ä¸‹ï¼Œä¾¿å‘ç°æ— è®ºè¾“å…¥çš„æ˜¯ä»€ä¹ˆç½‘å€ï¼Œæ‰“å¼€çš„éƒ½æ˜¯è¿™ä¸ªç½‘ç«™çš„é¦–é¡µï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ºäº†è®¿é—®åˆ°å›¾ç‰‡çš„åœ°å€ï¼Œåº”è¯¥ä¼ªè£…æˆæˆ‘ä»¬æ˜¯ç™»é™†çŠ¶æ€ï¼Œä½†æ˜¯æˆ‘åœ¨ xhr ç¿»å•Šç¿»ï¼Œåªæ‰¾åˆ°äº†ä¸€ä¸ª&#39;set-cookie&#39; ä¿¡æ¯ï¼Œå¹¶æ²¡æœ‰æ‰¾åˆ° cookie ä¿¡æ¯ï¼Œè€Œä¸”å½“æˆ‘å°† set-cookie ä¿¡æ¯åŠ å…¥åˆ° headers ä¹‹ä¸­åï¼Œè¿˜æ˜¯æ— æ³•è®¿é—®åˆ°å›¾ç‰‡ (å°±ç¦»è°±)ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘å®åœ¨æ˜¯æ²¡åŠæ³•äº†ï¼Œåªèƒ½å…ˆç”¨ selenium ç™»å½•è¿›è¿™ä¸ªç½‘ç«™ä¹‹åå†è¿›è¡Œåç»­çš„æ“ä½œï¼Œæ“ä½œæµç¨‹ä¸ºæ‰¾åˆ°ç™»å½•æŒ‰é’®çš„æ ‡ç­¾ -&amp;gt; ç‚¹å‡»ç™»å½•æŒ‰é’® -&amp;gt; å¡«å†™è´¦å·ã€å¯†ç å’ŒéªŒè¯ç ï¼Œä¹‹ååœ¨è®¿é—®å›¾ç‰‡çš„é“¾æ¥ã€‚æ¥ä¸‹æ¥çš„äº‹æƒ…å°±æ›´ç¦»è°±äº† (æˆ‘æ˜¯çœŸä¸çŸ¥é“ä¸€ä¸ªéèµ¢åˆ©çš„å›¾ç‰‡ç½‘ç«™ä¸ºä»€ä¹ˆåœ¨åçˆ¬ä¸Šä¸‹è¿™ä¹ˆå¤§åŠŸå¤«)ï¼Œæˆ‘ä»¬ç”¨ selenium æ‰“å¼€ pixiv é¦–é¡µï¼Œ&lt;/p&gt;
&lt;p&gt;![](/images/20-11-18_pixiv11.png)&lt;/p&gt;
&lt;p&gt;ç›´æ¥æ‰“å¼€çš„ç•Œé¢ä¸ºï¼š&lt;br /&gt;
![](/images/20-11-19_pixiv5.png)&lt;/p&gt;
&lt;p&gt;å¦‚æœè¿™æ—¶æˆ‘ä»¬ç›´æ¥ç”¨ä»£ç å¯»æ‰¾ç™»å½•æŒ‰é’®æ—¶æ‰¾ä¸åˆ°çš„ã€‚&lt;br /&gt;
æˆ‘ä»¬å¿…é¡»æ‰‹åŠ¨å‰æ‰å¹¿å‘Šå’ŒäºŒç»´ç åï¼Œä»£ç æ‰èƒ½æ‰¾åˆ°ç™»å½•æŒ‰é’®ï¼Œè€Œä¸”å‡ ç§’é’Ÿä¹‹å†…ä¸ç‚¹æ‰çš„è¯ï¼Œä½ å°±å‰ä¸æ‰äº† (????, æˆ‘æ˜¯æ‡µé€¼äº†)ã€‚&lt;br /&gt;
æ‰¾åˆ°ä¹‹åï¼Œæˆ‘ä»¬å°±å°†å¼€å§‹è¾“å…¥çš„è´¦å·å’Œå¯†ç è‡ªåŠ¨å¡«å…¥ï¼Œè‡³äºéªŒè¯ç è‡ªåŠ¨è¯†åˆ«ï¼Œæˆ‘è¿˜ä¸æ˜¯å¾ˆç†Ÿï¼Œæš‚ä¸”å·ä¸‹æ‡’ï¼Œåæ­£è¾“éªŒè¯ç ä¹Ÿä¸è¦å¤šä¹…ã€‚&lt;br /&gt;
![](/images/20-11-18_pixiv7.png)&lt;/p&gt;
&lt;h4 id=&#34;ä¸‹è½½å›¾ç‰‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸‹è½½å›¾ç‰‡&#34;&gt;#&lt;/a&gt; ä¸‹è½½å›¾ç‰‡&lt;/h4&gt;
&lt;p&gt;æˆåŠŸç™»é™†ä¹‹åï¼Œé‚£äº‹æƒ…å°±ç®€å•äº†ï¼Œè·å–ç½‘é¡µçš„ html ä¿¡æ¯å¹¶æå–å‡ºå›¾ç‰‡å¯ä¸‹è½½çš„åœ°å€ï¼š&lt;/p&gt;
&lt;p&gt;![](/images/20-11-18_pixiv9.png)&lt;/p&gt;
&lt;p&gt;ä¿å­˜å›¾ç‰‡åˆ°æœ¬åœ°ï¼š&lt;/p&gt;
&lt;p&gt;![](/images/20-11-18_pixiv10.png)&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥æ‰“å¼€æ–‡ä»¶å¤¹å°±å¯ä»¥æ‰¾åˆ°ç…§ç‰‡äº†&lt;/p&gt;
&lt;hr /&gt;
&lt;h3 id=&#34;20-11-19çš„è¡¥å……ä»£ç çš„éƒ¨åˆ†ç»†èŠ‚æ”¹è¿›&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#20-11-19çš„è¡¥å……ä»£ç çš„éƒ¨åˆ†ç»†èŠ‚æ”¹è¿›&#34;&gt;#&lt;/a&gt; 20-11-19 çš„è¡¥å……ï¼ˆä»£ç çš„éƒ¨åˆ†ç»†èŠ‚æ”¹è¿›ï¼‰&lt;/h3&gt;
&lt;h4 id=&#34;é¡µæ•°çš„é€‰å–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¡µæ•°çš„é€‰å–&#34;&gt;#&lt;/a&gt; é¡µæ•°çš„é€‰å–&lt;/h4&gt;
&lt;p&gt;![](/images/20-11-19_pixiv3.png)&lt;br /&gt;
 å¯ä»¥é€‰å–ä¸‹è½½çš„åˆå§‹ä¸ç»ˆæ­¢é¡µï¼Œä¸ç”¨æ¯æ¬¡ä»ç¬¬ä¸€é¡µä¸‹è½½ï¼Œä½†æ˜¯è¿™ç§æˆ‘æ„Ÿè§‰è¿˜æ˜¯ä¸å¤ªå¥½ï¼Œæˆ‘æ˜¯æ‰“ç®—åœ¨æœ¬åœ°å†å»ºç«‹ä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œè‡ªåŠ¨è®°å½•ä¸‹è½½è¿‡çš„ä¸»é¢˜ã€é¡µæ•°å’Œ idï¼Œä»¥åå†å¼„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;idçš„æå–ä¸æŒ‘é€‰&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#idçš„æå–ä¸æŒ‘é€‰&#34;&gt;#&lt;/a&gt; id çš„æå–ä¸æŒ‘é€‰&lt;/h4&gt;
&lt;p&gt;åŸæ¥é€‰å–å‡ºæ¥çš„ id å€¼æ—¢åŒ…æ‹¬äº†ä½œå“çš„ id å€¼ï¼Œè¿˜åŒ…æ‹¬äº†éƒ¨åˆ†ä½œè€…çš„ idï¼Œè¿™æ¬¡æ”¹è¿›ä¹‹ååªå‰©ä¸‹äº†ä½œå“çš„ idã€‚ä½†æ˜¯è¿™æ ·è¿˜æ˜¯å­˜åœ¨å¦ä¸€ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;![](/images/20-11-19_pixiv1.png)&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥è€ƒåˆ°è¿™æ ·æå–å‡ºæ¥çš„æœ‰äº›æ˜¯é‡å¤çš„ï¼Œå¦‚æœæˆ‘ä»¬æ¯ä¸€ä¸ª id çš„å›¾ç‰‡éƒ½è¦æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦å·²ç»å­˜åœ¨äº†å°±ä¼šæµªè´¹å¾ˆå¤šæ—¶é—´ï¼Œæ‰€ä»¥æˆ‘å°±åˆæ”¹è¿›äº†ä¸€ä¸‹ï¼Œåœ¨ç»„æˆç½‘å€å‰å»æ‰é‡å¤å€¼ï¼Œæœ€ç»ˆä»£ç ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;![](/images/20-11-19_pixiv4.png)&lt;/p&gt;
&lt;h4 id=&#34;å…³é”®å­—åˆ¤æ–­&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å…³é”®å­—åˆ¤æ–­&#34;&gt;#&lt;/a&gt; å…³é”®å­—åˆ¤æ–­&lt;/h4&gt;
&lt;p&gt;å½“è¾“å…¥çš„å…³é”®å­—æ‰¾ä¸åˆ°ç›¸å…³å›¾ç‰‡æ—¶ï¼Œæé†’ç”¨æˆ·æ¢ä¸ªå…³é”®å­—æŸ¥æ‰¾å¹¶ä¸­æ–­ç¨‹åº&lt;/p&gt;
&lt;p&gt;![](/images/20-11-19_pixiv2.png)&lt;/p&gt;
&lt;h3 id=&#34;å®Œç»“æ’’èŠ±&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®Œç»“æ’’èŠ±&#34;&gt;#&lt;/a&gt; å®Œç»“æ’’èŠ±&lt;/h3&gt;
&lt;p&gt;èŠ±äº†å››å¤©çš„æ—¶é—´ç»ˆäºå°†è¿™ä¸ªçˆ¬è™«ç¨‹åºåŠåšå®¢å†™å¥½äº†  (&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL3poYW5nbGluMjMzL2NvZGUvYmxvYi9tYXN0ZXIvLnZzY29kZS9weXRob24vJUU3JTg4JUFDJUU1JThGJTk2cGl4aXYlRTUlOUIlQkUlRTclODklODcvJUU3JTg4JUFDJUU1JThGJTk2JUU1JTlCJUJFJUU3JTg5JTg3LnB5&#34;&gt;ä»£ç åœ°å€&lt;/span&gt;)&lt;br /&gt;
ï¼ŒçœŸæ˜¯ç—›å¹¶å¿«ä¹ç€ï¼Œè¿™å‡ å¤©æ—¢å­¦åˆ°äº†ä¸€äº›æ–°çŸ¥è¯†ï¼Œåˆå¤ä¹ äº†ä¸€äº›å¿«å¿˜æ‰çš„çŸ¥è¯†ï¼Œæ”¶è·è¿˜æ˜¯å¾ˆå¤§æ»´ï¼Œä¸æ‰æˆ‘è¿™å‡ å¤©æ²¡æ—¥æ²¡å¤œçš„æ”¹ä»£ç ã€æ•²åšå®¢å¼„å¾—äººéƒ½ä¸å¥½äº†ï¼Œåå¤ªä¹…äº†ç°åœ¨è„–å­éƒ½ç¨å¾®æœ‰ç‚¹ç—›ï¼Œè¿™ä¸€ä¸¤å¤©å°±å…ˆä¼‘æ¯ä¸€ä¸‹æƒ³æƒ³ä¸‹ä¸ªä»»åŠ¡å†™ä»€ä¹ˆã€‚&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://zhanglin233.github.io/2021/11/27/computer-science/python/spider/2020-11-17-pixiv1/</guid>
            <title>çˆ¬å–pç«™(pixiv)çš„å›¾ç‰‡ï¼ˆä¸€ï¼‰</title>
            <link>http://zhanglin233.github.io/2021/11/27/computer-science/python/spider/2020-11-17-pixiv1/</link>
            <category>Python çˆ¬è™«</category>
            <pubDate>Sat, 27 Nov 2021 01:22:09 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;pixiv(&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cucGl4aXYubmV0Lw==&#34;&gt;åœ°å€ 1&lt;/span&gt;ï¼Œç¿»ä¸äº†å¢™çš„å¯ä»¥é€šè¿‡&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9waXhpdmljLmNvbS8=&#34;&gt;åœ°å€ 2&lt;/span&gt; è®¿é—®) ä¸Šé¢æœ‰å¾ˆå¤šéå¸¸å¥½çœ‹çš„å›¾ç‰‡ï¼Œæˆ‘ä¹Ÿç»å¸¸åœ¨ä¸Šé¢å¯»æ‰¾ä¸€äº›å¥½çœ‹çš„å›¾ç‰‡ï¼Œä½†è‡ªå·±ä¸€ä¸ªä¸€ä¸ªä¸‹è½½åˆå¤ªæ…¢äº†ï¼Œç„¶ååˆšå¥½è‡ªå·±å­¦çš„çˆ¬è™«å¿˜çš„å·®ä¸å¤šäº†ï¼Œæ‰€ä»¥å°±æƒ³å†™ä¸ªçˆ¬è™«è‡ªåŠ¨çˆ¬å– pixiv ä¸Šçš„å›¾ç‰‡ï¼Œé¡ºå¸¦å¤ä¹ ä¸€ä¸‹ä»¥å‰å­¦çš„çŸ¥è¯†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸€äº›å›¾ç‰‡è¿™è°æ‰›å¾—ä½å‘€å¤ªå¥½çœ‹äº†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸€äº›å›¾ç‰‡è¿™è°æ‰›å¾—ä½å‘€å¤ªå¥½çœ‹äº†&#34;&gt;#&lt;/a&gt; ä¸€äº›å›¾ç‰‡ (è¿™è°æ‰›å¾—ä½å‘€ï¼Œå¤ªå¥½çœ‹äº†)&lt;/h3&gt;
&lt;p&gt;![](/images/3.jpg)&lt;br /&gt;
![](/images/2.jpg)&lt;br /&gt;
![](/images/4.jpg)&lt;/p&gt;
&lt;h3 id=&#34;ç¬¬ä¸€æ¬¡å°è¯•å¤±è´¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¬¬ä¸€æ¬¡å°è¯•å¤±è´¥&#34;&gt;#&lt;/a&gt; ç¬¬ä¸€æ¬¡å°è¯•å¤±è´¥&lt;/h3&gt;
&lt;p&gt;å› ä¸ºæˆ‘çš„æ¢¯å­æ˜¯ç™½å«–çš„ï¼Œç›´æ¥ä»åŸç½‘ç«™ä¸‹è½½çš„è¯å¯èƒ½é€Ÿåº¦ä¼šè¿‡æ…¢ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©ä»å›½å†…åœ°å€ä¸Šä¸‹è½½ã€‚&lt;br /&gt;
æ‰“å¼€ç½‘ç«™å…ˆè¾“å…¥è‡ªå·±å–œæ¬¢çš„ç±»å‹ï¼Œæˆ‘æ‰¾çš„æ˜¯æ¨±èŠ±ç±»å‹ã€‚æ‰“å¼€äº†ç½‘é¡µä¹‹åä¾¿å¼€å§‹åˆ†æç½‘é¡µç»“æ„ï¼Œä¸ºåé¢çš„ç¼–å†™ä»£ç åšå‡†å¤‡ã€‚æ‰“å¼€å¼€å‘è€…å·¥å…· (F12) åä¾¿å¯ä»¥çœ‹åˆ°æ•´ä¸ªç½‘é¡µçš„ html ä»£ç ï¼Œ&lt;br /&gt;
![](/images/11-17-pixiv.png) ä½¿ç”¨å·¥å…·æ ä¸­çš„å°ç®­å¤´éšä¾¿ç‚¹å‡»ä¸€å¼ å›¾ç‰‡ä¾¿å¯åœ¨ç»“æ„ä¸­å®šä½åˆ°è¯¥å›¾ç‰‡çš„ä½ç½®ï¼Œ&lt;br /&gt;
![](/images/11-17-pixiv2.png) æˆ‘ä»¬ä»”ç»†è§‚å¯Ÿä¹‹åå°±å¯ä»¥å‘ç°æ‰€æœ‰çš„å›¾ç‰‡éƒ½æ˜¯ä½äº class=&#39;cell-container&#39; çš„ div ç›’å­ä¸­ï¼Œè€Œå›¾ç‰‡åˆ™æ˜¯ä½äºè¿™ä¸ª div æ ‡ç­¾ä¸‹çš„ img æ ‡ç­¾ä¸­ï¼Œè€Œæ¯å¼ å›¾ç‰‡çš„é“¾æ¥éƒ½å‚¨å­˜åœ¨ img æ ‡ç­¾çš„ï¼Œæ‰€ä»¥ç†è®ºä¸Šæ¥ä¸‹æ¥æˆ‘ä»¬åªéœ€æ‰¾åˆ°æ¯ä¸€ä¸ª img æ ‡ç­¾å¹¶å–å¾—æ‰€æœ‰å›¾ç‰‡çš„é“¾æ¥å°±å¯ä»¥æ‰¹é‡ä¸‹è½½å›¾ç‰‡ã€‚ä½†æ˜¯è¿™ä¸ªç½‘é¡µè·Ÿä¸€èˆ¬çš„ç½‘é¡µä¸åŒï¼Œä¸€èˆ¬çš„çš„ç½‘é¡µå¯ä»¥æ ¹æ®æ”¹å˜é¡µæ•°è€Œé€‰æ‹©ä¸åŒçš„å›¾ç‰‡ï¼Œè€Œè¿™ä¸ªç½‘é¡µé‡‡å–çš„æ˜¯åŠ¨æ€åˆ·æ–°çš„æ–¹å¼æ¥åˆ·æ–°å›¾ç‰‡ï¼Œéšç€æ»šåŠ¨æ¡çš„æ»šåŠ¨å›¾ç‰‡ä¸æ–­å‘ç”Ÿæ”¹å˜ï¼Œè€Œæ•´ä¸ªç½‘é¡µå¹¶ä¸ä¼šåˆ·æ–°ï¼Œç½‘å€å¹¶ä¸ä¼šæ”¹å˜ï¼Œè¿™å°±ç»™ç»™æˆ‘ä»¬çš„å·¥ä½œå¸¦æ¥äº†ä¸€å®šçš„éº»çƒ¦ã€‚&lt;br /&gt;
è¿™ä¸ªæ—¶å€™ä¸ºäº†èƒ½å¤Ÿæ­£å¸¸çš„è·å–æˆ‘ä»¬æ‰€éœ€è¦çš„æ•°ç›®çš„ç…§ç‰‡ï¼Œæˆ‘ä»¬å°±éœ€è¦ç»§ç»­åˆ†æç½‘é¡µã€‚åœ¨å¼€å‘è€…å·¥å…·ä¸­æ‰¾åˆ° â€œç½‘ç»œâ€ï¼ˆ&#39;networks&#39;ï¼‰, æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°éšç€æˆ‘ä»¬å¾€ä¸‹æ»‘åŠ¨é¡µé¢ï¼Œç½‘ç»œä¸­çš„æ•°æ®ä¹Ÿæ˜¯ä¸æ–­æ”¹å˜çš„ã€‚æœ¬æ¥æˆ‘æ˜¯æ‰“ç®—å…ˆæ‰¾åˆ° post è¯·æ±‚ï¼Œç„¶åå°±å¯ä»¥æ‰¾åˆ°çœŸæ­£çš„è¯·æ±‚ç½‘å€ï¼Œç»“æœä»–ç«Ÿç„¶æ²¡æœ‰ post è¯·æ±‚ï¼ï¼ï¼networks ä¸­ç›´æ¥ç»™å‡ºäº†è¿”å›çš„ç…§ç‰‡ä¿¡æ¯ï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“å¦‚ä½•æ”¶é›†å¼€å‘è€…å·¥å…·ä¸­çš„ img ä¿¡æ¯ï¼Œæ‰€ä»¥åªèƒ½æ¢ä¸ªæ–¹æ³•ã€‚&lt;br /&gt;
éšç€æˆ‘ä»¬ä¸æ–­åœ°æ»‘åŠ¨ï¼Œnetworks ä¸­çš„å†…å®¹ä¸æ–­æ”¹å˜ï¼Œé€šè¿‡è§‚å¯Ÿå¯ä»¥è§‚å¯Ÿåˆ°æ¯æ»‘åŠ¨å‡ ä¸‹ï¼Œåˆ·æ–°çš„æ•°æ®ä¸­é™¤äº† jpg ä¿¡æ¯ï¼Œè¿˜æœ‰ 2 ä¸ª&#39;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9waXguaXB2NC5ob3N0L2lsbHVzdHJhdGlvbnM/aWxsdXN0VHlwZT1pbGx1c3QmYW1wO3NlYXJjaFR5cGU9b3JpZ2luYWwmYW1wO21heFNhbml0eUxldmVsPTQmYW1wO3BhZ2U9NSZhbXA7a2V5d29yZD0lRTYlQTElOUMlRTMlODElQUUlRTglOEElQjEmYW1wO3BhZ2VTaXplPTMw&#34;&gt;https://pix.ipv4.host/illustrations?illustType=illust&amp;amp;searchType=original&amp;amp;maxSanityLevel=4&amp;amp;page=5&amp;amp;keyword = æ¡œã®èŠ± &amp;amp; pageSize=30&lt;/span&gt;&#39; ä¿¡æ¯ï¼Œä¸€ä¸ªæ˜¯ get è¯·æ±‚ï¼Œä¸€ä¸ªæ˜¯ options è¯·æ±‚ (è™½ç„¶æˆ‘ä¸çŸ¥é“è¿™ä¸ªè¯·æ±‚æœ‰ä»€ä¹ˆç”¨)ã€‚&lt;br /&gt;
![](/images/20-11-17_pixiv3.png) æˆ‘ä»¬é€‰ä¸­å…¶ä¸­ä¸€ä¸ªå¯ä»¥å‘ç°ä¸€ä¸ªè¯·æ±‚ url, æˆ‘é€šè¿‡ä»£ç çˆ¬å–äº†ä¸€ä¸‹è¿™ä¸ªç½‘å€çš„æºä»£ç  (ç›´æ¥ç‚¹å‡»è¿™ä¸ªç½‘å€æ˜¯æ— ç”¨çš„ï¼Œæˆ‘æ˜¯é€šè¿‡åœ¨ä»£ç æ·»åŠ è¯·æ±‚å¤´è®¿é—®)ï¼Œå‘ç°å…¶ä¸­åŒ…å«äº†å¾ˆå¤šçš„ç…§ç‰‡çš„ç½‘å€ï¼Œç„¶åå†è§‚å¯Ÿä¸€ä¸‹è¿™ä¸ªç½‘å€çš„ç»„æˆï¼Œå¯ä»¥å¤§èƒ†çŒœæµ‹æˆ‘ä»¬åªè¦æ”¹å˜ç½‘å€ä¸­ &#39;page&#39; çš„å±æ€§å€¼å°±å¯ä»¥è®¿é—®åˆ°ä¸åŒçš„å›¾ç‰‡ç»„ï¼Œç„¶åæˆ‘ç”¨ä»£ç çˆ¬äº†ä¸€ä¸‹ä¸åŒçš„ page å€¼çš„ç½‘é¡µå‘ç°è¿”å›å€¼ç¡®å®ä¸åŒï¼Œå°±åœ¨æˆ‘ä»¥ä¸ºæˆ‘è¦æˆåŠŸçš„æ—¶å€™ï¼Œç°å®åˆä¸¥é‡çš„æ‰“å‡»äº†æˆ‘çš„è‡ªä¿¡å¿ƒã€‚æˆ‘è¯•ç€ç”¨ä»£ç è®¿é—®è·å¾—çš„ä¼—å¤šçš„å›¾ç‰‡ç½‘å€ä¸­çš„ä¸€ä¸ªæ—¶ï¼Œè¿”å›äº†å¤±è´¥çš„ä¿¡æ¯ï¼Œä¼°è®¡æ˜¯çˆ¬è™«åšçš„ä¼ªè£…çš„è¿˜ä¸å¤Ÿï¼Œè¿˜æ˜¯è¢«è®¤å‡ºæ¥äº†ã€‚ä½†æ˜¯æˆ‘æš‚æ—¶å¹¶ä¸çŸ¥é“å¦‚ä½•æ”¹è¿›ï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼æˆ‘å°±æš‚æ—¶æ”¾å¼ƒäº†ã€‚&lt;br /&gt;
æ¥ä¸‹æ¥ç»§ç»­è§‚å¯Ÿç½‘é¡µè¿”å›çš„ä¿¡æ¯ï¼Œå¯ä»¥å‘ç°åœ¨å‚æ•°æ ä¸­ä¹ŸåŒ…å«äº† page ä¿¡æ¯&lt;br /&gt;
ï¼[](/images/20-11-17_pixiv4.png), æ‰€ä»¥æˆ‘å°±æ‰“ç®—å°†è¿™äº›ä¿¡æ¯æ‰“åŒ…æˆ data ä¿¡æ¯å¹¶ä½œä¸ºå‚æ•°ä¼ å…¥è¯·æ±‚ä¸­&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;import requests
from lxml import etree

# ç½‘å€
url = &#39;https://pixivic.com/keywords?tag=æ¨±èŠ±&amp;amp;illustType=illust&amp;amp;VNK=3fa7b1f4&#39;

# åçˆ¬
header = &amp;#123;
    &#39;accept&#39;:
    &#39;application/json, text/plain, */*&#39;,
    &#39;accept-encoding&#39;:
    &#39;gzip, deflate, br&#39;,
    &#39;accept-language&#39;:
    &#39;zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6&#39;,
    &#39;authorization&#39;:
    &#39;eyJhbGciOiJIUzUxMiJ9.eyJwZXJtaXNzaW9uTGV2ZWwiOjIsInJlZnJlc2hDb3VudCI6MSwiaXNCYW4iOjEsInVzZXJJZCI6NTk3NTIyLCJpYXQiOjE2MDU1MzA4ODEsImV4cCI6MTYwNTcwMzY4MX0.yPa-vDYWgMtp6Mer_Ycgyf4r6i6ZQoHFZJGi1v9CjYH7Q7T9Kz_Coa5PwbtZC0j-AvhRFEWaa5D5jxD8WujxBA&#39;,
    &#39;dnt&#39;:
    &#39;1&#39;,
    &#39;origin&#39;:
    &#39;https://pixivic.com&#39;,
    &#39;referer&#39;:
    &#39;https://pixivic.com/&#39;,
    &#39;sec-fetch-dest&#39;:
    &#39;empty&#39;,
    &#39;sec-fetch-mode&#39;:
    &#39;cors&#39;,
    &#39;sec-fetch-site&#39;:
    &#39;cross-site&#39;,
    &#39;cookie&#39;:
    &#39;__cfduid=d9b53ec0583ae0dc116fee426d77c30891605603315; expires=Thu, 17-Dec-20 08:55:15 GMT; path=/; domain=.cheerfun.dev; HttpOnly; SameSite=Lax&#39;,
    &#39;user-agent&#39;:
    &#39;Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Mobile Safari/537.36 Edg/86.0.622.69&#39;
&amp;#125;
# æäº¤çš„æ•°æ®
dat = &amp;#123;
    &#39;illustType&#39;: &#39;illust&#39;,
    &#39;searchType&#39;: &#39;original&#39;,
    &#39;maxSanityLevel&#39;: &#39;4&#39;,
    &#39;page&#39;: &#39;2&#39;,
    &#39;keyword&#39;: &#39;æ¨±èŠ±&#39;,
    &#39;pageSize&#39;: &#39;30&#39;,
&amp;#125;

r = requests.get(url, data= dat,headers=header, timeout=30)
print(r.status_code)
r.raise_for_status()  # å¦‚æœçŠ¶æ€ä¸æ˜¯200ï¼Œåˆ™å¼•å‘HTTPERROEå¼‚å¸¸
text = r.content.decode(encoding=&#39;utf-8&#39;, errors=&#39;ignore&#39;)
print(text)
html = etree.HTML(text)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿è¡Œå®Œæ•´ä»£ç åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆåŠŸè¿”å›äº†ä¿¡æ¯ï¼Œ&lt;br /&gt;
![](/images/20-11-17_pixiv5.png), ä½†æ˜¯è¿™äº›éƒ½æ˜¯æ²¡ç”¨çš„ï¼Œä¸€ä¸ªæœ‰ç”¨çš„ä¸œè¥¿éƒ½æ²¡æœ‰ï¼ï¼ï¼æ˜æ˜¾è¿™æ˜¯åˆè¢«è®¤å‡ºæ¥æ˜¯çˆ¬è™«äº†ï¼Œè¿™æ¬¡äººå®¶è¿˜å®¢æ°”ç‚¹æ²¡æœ‰ç›´æ¥æ‹’ç»è¯·æ±‚è®¿é—®ï¼Œåªæ˜¯ç»™äº†å‡çš„é¡µé¢è€Œå·²ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥åœ¨æŠ˜è…¾äº†å°†è¿‘ä¸€å¤©çš„æ—¶é—´åè¿˜æ˜¯æ²¡æœ‰æˆåŠŸçš„çˆ¬å–ä¸‹æ¥å›¾ç‰‡ï¼Œåªèƒ½å†å»çœ‹ä¸€äº›ç›¸å…³çš„ç½‘è¯¾æ¥å­¦å­¦æ€ä¹ˆæ›´å¥½çš„ä¼ªè£…éª—è¿‡ç³»ç»Ÿï¼Œå¤ªéš¾å—äº†ğŸ’”ã€‚&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>
